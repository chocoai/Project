
<div class="main">
    <storeHeader></storeHeader>
    <div class="content">
        <div class="operation">
            <button (click)="addRow()">添加</button>
        </div>
        <div class="tab">
            <nz-table
                #editRowTable
                nzBordered
                [nzData]="dataSet"
                [nzPageSize]="5"
                [nzScroll]="{x:'800px'}">
                <thead>
                    <tr>
                        <th nzWidth="80px" nzLeft="0px">消费者</th>
                        <th nzWidth="100px" nzLeft="80px">支付方式</th>
                        <th class="money">支付类型</th>
                        <th>支付时间</th>
                        <th class="money">金额</th>
                        <th>备注</th>
                        <th  nzWidth="80px" nzRight="0px">操作</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let data of editRowTable.data">
                        <td nzLeft="0px">{{data.obj}}</td>
                        <td nzLeft="80px">{{data.obj3}}</td>
                        <td>{{data.obj2}}</td>
                        <td>{{data.time}}</td>
                        <td>{{data.money}}</td>
                        <td>
                        <div class="editable-cell">
                        <div class="editable-cell-text-wrapper">
                            <ng-container >
                            {{data.note}}
                            <i nz-icon type="edit" class="editable-cell-icon" ></i>
                            </ng-container>
                            <ng-container >
                            <!-- <input type="text" nz-input [(ngModel)]="editCache[data.id].note"> -->
                            <i nz-icon type="check"></i>
                            </ng-container>
                        </div>
                        </div>
                    </td>
                    
                    <td nzRight="0px">
                        <nz-popconfirm [nzTitle]="'Sure to delete?'" (nzOnConfirm)="deleteRow(data.id)">
                        <a nz-popconfirm>Delete</a>
                        </nz-popconfirm>
                    </td>
                    </tr>
                </tbody>
            </nz-table>
        </div>
        <div class="add" *ngIf="add" >
            <div class="msg">
                <!-- <div class="msg-group">
                    <label>消费者：</label>
                    <input type="text" placeholder="name" [(ngModel)]="name">
                </div>   -->
                <div class="msg-group">
                    <label>分类：</label>
                    <nz-form-item class="classification">
                        <nz-form-control>
                          <nz-select nzAllowClear nzShowSearch style="width:100px" [(ngModel)]="selectedDicclass" (ngModelChange)="provinceChange($event)">
                            <nz-option *ngFor="let dicclass of dicclass" [nzLabel]="dicclass" [nzValue]="dicclass">
                            </nz-option>
                          </nz-select>
                        </nz-form-control>
                      </nz-form-item>
         
                       <nz-form-item class="classification">
                        <nz-form-control nzXs="24" nzSm="12" nzMd="10" (click)="change()"> 
                          <nz-select nzAllowClear nzShowSearch style="width:100px" [(ngModel)]="selectedName">
                            <nz-option *ngFor="let name of name" [nzLabel]="name"
                                       [nzValue]="name"></nz-option>
                          </nz-select>
                        </nz-form-control>
                      </nz-form-item>
                      <nz-form-item class="classification">
                        <nz-form-control nzXs="24" nzSm="12" nzMd="10" (click)="changeId()"> 
                          <nz-select nzAllowClear nzShowSearch style="width:100px" >
                            <nz-option *ngFor="let id of id" [nzLabel]="id"
                                       [nzValue]="id"></nz-option>
                          </nz-select>
                        </nz-form-control>
                      </nz-form-item>
                </div>
                <button (click)="cancel()" class="btn" style="background:rgb(230, 152, 121)">取消</button> 
                <button (click)="submit()" class="btn" style="background:rgb(71, 214, 195)">提交</button>
            </div>
        </div>
    </div>
    <storeFooter></storeFooter>
 </div>